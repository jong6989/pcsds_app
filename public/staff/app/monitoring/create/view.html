<div ng-controller="MonitoringController" ng-init="set_page_title('Monitoring - Create');">
    <div flex="100" layout-align="center center" ng-if="is_loading" layout>
        <md-progress-circular md-mode="indeterminate" md-diameter="70">
        </md-progress-circular>
    </div>

    <form ng-if="!is_loading" ng-cloak name="form_add_draft" flex>
        <hr>
        <md-input-container class="md-block" flex-gt-sm>
            <label></label>
            <md-select md-selected-text='n.subject' ng-change="setSelectedIndex(selectedIndex)" ng-model="selectedIndex">
                <md-option ng-repeat="monitoring_form in monitoring_forms track by $index" value="{{$index}}">
                    {{monitoring_form.subject}}
                </md-option>
            </md-select>
        </md-input-container>
        <div ng-include="n.template.create"></div>
        <md-button class="md-primary md-raised" 
                ng-disabled="form_add_draft.$invalid" 
                ng-controller="doc_controller"
                ng-init="doc_init()"
                ng-click="create(doc_user.id);"
                >
                Create Document
            </md-button>
    </form>

</div>