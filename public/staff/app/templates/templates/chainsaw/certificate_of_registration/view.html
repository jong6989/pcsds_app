<style type="text/css">
    .roman {
        font-family: 'Times New Roman', Times, serif;
    }
</style>
<!-- <div class="roman" ng-controller="DummyChainsawRegistrationController" ng-init="currentItem=n" style="margin:0.5in"> -->
    <div class="roman" style="margin:0.5in">

    <!-- header -->
    <div ng-include="'./app/templates/templates/header.html'"></div>
    <hr>

    <p>
        <div class="align-center">
            <strong style="font-size: 24px">{{ currentItem.line1}}</strong><br>
            {{ currentItem.line2.toUpperCase() }}
        </div>
    </p>
    <div class="align-center">
        <div style="width:100%">
            {{currentItem.line3}}<br>
        </div>
    </div>
    <br>
    <div class="align-center" style="padding:0.25in; border:1px solid; margin-left:1in; margin-right: 2in">
        <b>{{ currentItem.line4}}</b><br>
        {{ currentItem.line5 }}
    </div>
    <br>
    <div>
        <div ng-repeat="line in [6, 7, 8]">
            {{currentItem['line'+line]}}<br>
        </div>
    </div>
    <br>
    <div>
        <table>
            <tr>
                <td>Brand</td>
                <td>{{currentItem.chainsaw.brand}}</td>
                <td>Serial/Engine No.:</td>
                <td>{{currentItem.chainsaw.serial_number}}</td>
            </tr>
            <tr>
                <td>Engine Type and Horsepower:</td>
                <td>{{currentItem.chainsaw.horsepower}}</td>
                <td>PCSD Metal Seal No.:</td>
                <td>{{currentItem.chainsaw.metal_seal_number}}</td>
            </tr>
            <tr>
                <td>Issued on</td>
                <td>{{currentItem.issued_date}}</td>
                <td>at</td>
                <td>{{currentItem.issued_at}}</td>
            </tr>
            <tr>
                <td>Expiry Date</td>
                <td>{{currentItem.expiry_date}}</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
        </table>
    </div>
    <div layout>
        <div style="width:60%">&nbsp;</div>
        <div>APPROVED:</div>
    </div>
    <!-- Signature -->
    <div layout ng-controller="doc_ctrl_draft">
        <div style="width:60%">&nbsp;</div>
        <div flex style="padding: 10px"
            ng-init="currentItem.sign1 = (currentItem.sign1 == undefined)? { name:'',designation:''}:currentItem.sign1;">
            <div ng-if="currentItem.sign1.signature != undefined;" layout="column" layout-align="center center">
                <img ng-if="currentItem.sign1.signature != undefined" src="{{currentItem.sign1.signature}}"
                    alt="Signature1" width="auto" style="margin-bottom: -35px;">
                <div class="align-center"> <strong> <ins>{{currentItem.sign1.name}}</ins> </strong> </div>
                <div class="align-center"> {{currentItem.sign1.designation}} </div>
                <md-button class="md-fab md-mini" aria-label="Remove Signature" ng-if="currentItem.sign1.user == userId"
                    ng-click="updateDocument(currentItem.id,{'sign1' : {} })">
                    <md-tooltip md-direction="left">Remove Signature</md-tooltip>
                    <i class="fa fa-remove"></i>
                </md-button>
            </div>

            <div layout="column" layout-align="center center" ng-if="currentItem.sign1.signature == undefined;"
                id="sign1" ng-init="generate_signature_field('sign1',0);" style="border: black dashed 1px;">
                <canvas></canvas>
                <button ng-click="signclear(0)">Clear Signature</button>
                <button
                    ng-click=" updateDocument(currentItem.id,{'sign1.signature': signed(0), 'sign1.user' : userId }) ">
                    Save Signature
                </button>
                <md-input-container md-no-float class="md-block">
                    <input ng-model="currentItem.sign1.name"
                        ng-blur="updateDocument(currentItem.id,{'sign1.name' : currentItem.sign1.name })" type="text"
                        placeholder="Name" aria-label="Name">
                </md-input-container>
                <md-input-container md-no-float class="md-block">
                    <input ng-model="currentItem.sign1.designation"
                        ng-blur="updateDocument(currentItem.id,{'sign1.designation' : currentItem.sign1.designation })"
                        type="text" placeholder="Designation" aria-label="designation">
                </md-input-container>
            </div>
        </div>

    </div>
    <br>
    <div>
        {{currentItem['line15']}}
    </div>
    <p>
        <div class="align-center">
            <i>{{currentItem['line16']}}</i>
        </div>
    </p>
    <br>
    <div>
        <div ng-repeat="line in [17, 18, 19]"><b>{{currentItem['line'+line]}}</b></div>
    </div>
    <hr>
    <br>
    <div class="align-center">TERMS AND CONDITIONS</div>

    <ol>
        <li ng-repeat="line in [20,21,22,23,24,25,26]">
            {{currentItem['line'+line]}}
        </li>
    </ol>

    <br>
    <br>
    <p>{{currentItem.line27}}</p>
    <br>
    <hr>
    <div class='align-center'>CONFROME</div><BR>
    <p>{{currentItem.line28}}</p>

    <div layout>
        <div style="width:60%"></div>
        <div>Grantee's Signature</div>
    </div>

    <div layout ng-controller="doc_ctrl_draft">
        <div style="width:60%"></div>
        <div flex style="padding: 10px"
            ng-init="currentItem.sign2 = (currentItem.sign2 == undefined)? { name:'',designation:''}:currentItem.sign2;">
            <div ng-if="currentItem.sign2.signature != undefined;" layout="column" layout-align="center center">
                <img ng-if="currentItem.sign2.signature != undefined" src="{{currentItem.sign2.signature}}"
                    alt="Signature1" width="auto" style="margin-bottom: -35px;">
                <div class="align-center"> <strong> <ins>{{currentItem.sign2.name}}</ins> </strong> </div>
                <div class="align-center"> {{currentItem.date_signed}} </div>
                <md-button class="md-fab md-mini" aria-label="Remove Signature"
                    ng-click="updateDocument(currentItem.id,{'sign2' : {} })">
                    <md-tooltip md-direction="left">Remove Signature</md-tooltip>
                    <i class="fa fa-remove"></i>
                </md-button>
            </div>

            <div layout="column" layout-align="center center" ng-if="currentItem.sign2.signature == undefined;"
                id="sign2" ng-init="generate_signature_field('sign2',0);" style="border: black dashed 1px;">
                <canvas></canvas>
                <button ng-click="signclear(0)">Clear Signature</button>
                <button
                    ng-click=" updateDocument(currentItem.id,{'sign2.signature': signed(0), 'sign2.user' : '' }) ">
                    Save Signature
                </button>
                <md-input-container md-no-float class="md-block">
                    <input ng-model="currentItem.applicant.name"
                        ng-init="updateDocument(currentItem.id,{'sign2.name' : currentItem.applicant.name })"
                        ng-blur="updateDocument(currentItem.id,{'sign2.name' : currentItem.applicant.name })" type="text"
                        placeholder="Name" aria-label="Name">
                </md-input-container>
                <md-input-container md-no-float class="md-block">
                        <input type="hidden" 
                            ng-init="updateDocument(currentItem.id,{'sign1.designation' : '' })">
                </md-input-container>
                <md-input-container md-no-float class="md-block">
                        <md-datepicker 
                            ng-model="date_signed" 
                            ng-change="currentItem.date_signed=to_date(date_signed)"
                            ng-blur="updateDocument(currentItem.id, {'sign2.date_signed' : currentItem.date_signed })"
                            md-placeholder="Date Signed"
                            md-open-on-focus
                            >
                        </md-datepicker>
                </md-input-container>
            </div>
        </div>
    </div>
    <div>
        
    </div>
    <!-- footer -->
    <div ng-include="'./app/templates/templates/footer.html'"></div>
</div>